<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>control.messages API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>control.messages</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L1-L174" class="git-link">Browse git</a>
</summary>
<pre><code class="python">import sys
from control.flask import stop, flashMsg

from control.html import HtmlElements as H


class Messages:
    def __init__(self, Settings, onFlask=True):
        &#34;&#34;&#34;Sending messages to the user and the server log.

        This class is instantiated by a singleton object.

        It has methods to issue messages to the screen of the webuser
        and to the log for the sysadmin.

        They distinguish themselves by the *severity*:
        **debug**, **info**, **warning**, **error**.
        There is also **plain**, a leaner variant of **info**.

        All those methods have two optional parameters:
        `logmsg` and `msg`.

        The behaviors of these methods are described in detail in
        the `Messages.message()` function.

        !!! hint &#34;What to disclose?&#34;
            You can pass both parameters, which gives you the opportunity
            to make a sensible distinction between what you tell the
            web user (not much) and what you send to the log (the gory details).

        Parameters
        ----------
        Settings: `control.generic.AttrDict`
            App-wide configuration data obtained from
            `control.config.Config.Settings`.
        onFlask: boolean, optional True
            If False, mo messages will be sent to the screen of the webuser,
            instead those messages end up in the log.
            This is useful in the initial processing that takes place
            before the flask app is started.
        &#34;&#34;&#34;
        self.Settings = Settings
        self.onFlask = onFlask

    def debugAdd(self, dest):
        &#34;&#34;&#34;Adds a quick debug method to a destination object.

        The result of this method is that instead of saying

        ```
        self.Messages.debug (logmsg=&#34;blabla&#34;)
        ```

        you can say

        ```
        self.debug (&#34;blabla&#34;)
        ```

        It is recommended that in each object where you store a handle
        to Messages, you issue the statement

        ```
        Messages.addDebug(self)
        ```
        &#34;&#34;&#34;

        def dbg(m):
            self.debug(logmsg=m)

        setattr(dest, &#34;debug&#34;, dbg)

    def debug(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a debug message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;debug&#34;, msg=msg, logmsg=logmsg)

    def error(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue an error message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;error&#34;, msg=msg, logmsg=logmsg)

    def warning(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a warning message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;warning&#34;, msg=msg, logmsg=logmsg)

    def info(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a informational message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;info&#34;, msg=msg, logmsg=logmsg)

    def plain(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a informational message, without bells and whistles.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;plain&#34;, msg=msg, logmsg=logmsg)

    def message(self, tp, msg, logmsg):
        &#34;&#34;&#34;Workhorse to issue a message in a variety of ways.

        It can issue log messages and screen messages.

        Parameters
        ----------
        tp: string
            The severity of the message.
            There is a fixed number of types:

            * `debug`
              Messages are prepended with `DEBUG: `.
              Log messages go to stderr.
              Messages will only show up on the web page
              if the app runs in debug mode.

            * `plain`
              Messages are not prepended with anything.
              Log messages go to standard output.

            * `info`
              Messages are prepended with `INFO: `.
              Log messages go to standard output.

            * `warning`
              Messages are prepended with `WARNING: `.
              Log messages go to standard error.

            * `error`
              Messages are prepended with `ERROR: `.
              Log messages go to standard error.
              It also raises an exception, which will lead
              to a 404 response (if flask is running, that is).

        msg: string, optional None
            If not None, it is the contents of a screen message.
            Ths happens by the built-in `flash` method of Flask.
        logmsg: string, optional None
            If not None, it is the contents of a log message.
        &#34;&#34;&#34;
        Settings = self.Settings

        stream = sys.stderr if tp in {&#34;debug&#34;, &#34;error&#34;, &#34;warning&#34;} else sys.stdout
        label = &#34;&#34; if tp == &#34;plain&#34; else f&#34;{tp.upper()}: &#34;

        if Settings is None:
            if msg is not None:
                stream.write(f&#34;{label}{msg}\n&#34;)
            if logmsg is not None:
                stream.write(f&#34;{label}{logmsg}\n&#34;)
            stream.flush()
        else:
            debugMode = Settings.debugMode
            if tp == &#34;debug&#34; and not debugMode:
                return

            if msg is not None:
                cls = &#34;info&#34; if tp == &#34;plain&#34; else tp
                m = H.he(msg)
                flashMsg(f&#34;{label}{m}&#34;, cls)
            if logmsg is not None:
                stream.write(f&#34;{label}{logmsg}\n&#34;)
                stream.flush()

            if tp == &#34;error&#34; and self.onFlask:
                stop()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="control.messages.Messages"><code class="flex name class">
<span>class <span class="ident">Messages</span></span>
<span>(</span><span>Settings, onFlask=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Sending messages to the user and the server log.</p>
<p>This class is instantiated by a singleton object.</p>
<p>It has methods to issue messages to the screen of the webuser
and to the log for the sysadmin.</p>
<p>They distinguish themselves by the <em>severity</em>:
<strong>debug</strong>, <strong>info</strong>, <strong>warning</strong>, <strong>error</strong>.
There is also <strong>plain</strong>, a leaner variant of <strong>info</strong>.</p>
<p>All those methods have two optional parameters:
<code>logmsg</code> and <code>msg</code>.</p>
<p>The behaviors of these methods are described in detail in
the <code><a title="control.messages.Messages.message" href="#control.messages.Messages.message">Messages.message()</a></code> function.</p>
<div class="admonition hint">
<p class="admonition-title">What to disclose?</p>
<p>You can pass both parameters, which gives you the opportunity
to make a sensible distinction between what you tell the
web user (not much) and what you send to the log (the gory details).</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>Settings</code></strong> :&ensp;<code><a title="control.generic.AttrDict" href="generic.html#control.generic.AttrDict">AttrDict</a></code></dt>
<dd>App-wide configuration data obtained from
<code><a title="control.config.Config.Settings" href="config.html#control.config.Config.Settings">Config.Settings</a></code>.</dd>
<dt><strong><code>onFlask</code></strong> :&ensp;<code>boolean</code>, optional <code>True</code></dt>
<dd>If False, mo messages will be sent to the screen of the webuser,
instead those messages end up in the log.
This is useful in the initial processing that takes place
before the flask app is started.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L7-L174" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Messages:
    def __init__(self, Settings, onFlask=True):
        &#34;&#34;&#34;Sending messages to the user and the server log.

        This class is instantiated by a singleton object.

        It has methods to issue messages to the screen of the webuser
        and to the log for the sysadmin.

        They distinguish themselves by the *severity*:
        **debug**, **info**, **warning**, **error**.
        There is also **plain**, a leaner variant of **info**.

        All those methods have two optional parameters:
        `logmsg` and `msg`.

        The behaviors of these methods are described in detail in
        the `Messages.message()` function.

        !!! hint &#34;What to disclose?&#34;
            You can pass both parameters, which gives you the opportunity
            to make a sensible distinction between what you tell the
            web user (not much) and what you send to the log (the gory details).

        Parameters
        ----------
        Settings: `control.generic.AttrDict`
            App-wide configuration data obtained from
            `control.config.Config.Settings`.
        onFlask: boolean, optional True
            If False, mo messages will be sent to the screen of the webuser,
            instead those messages end up in the log.
            This is useful in the initial processing that takes place
            before the flask app is started.
        &#34;&#34;&#34;
        self.Settings = Settings
        self.onFlask = onFlask

    def debugAdd(self, dest):
        &#34;&#34;&#34;Adds a quick debug method to a destination object.

        The result of this method is that instead of saying

        ```
        self.Messages.debug (logmsg=&#34;blabla&#34;)
        ```

        you can say

        ```
        self.debug (&#34;blabla&#34;)
        ```

        It is recommended that in each object where you store a handle
        to Messages, you issue the statement

        ```
        Messages.addDebug(self)
        ```
        &#34;&#34;&#34;

        def dbg(m):
            self.debug(logmsg=m)

        setattr(dest, &#34;debug&#34;, dbg)

    def debug(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a debug message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;debug&#34;, msg=msg, logmsg=logmsg)

    def error(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue an error message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;error&#34;, msg=msg, logmsg=logmsg)

    def warning(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a warning message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;warning&#34;, msg=msg, logmsg=logmsg)

    def info(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a informational message.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;info&#34;, msg=msg, logmsg=logmsg)

    def plain(self, msg=None, logmsg=None):
        &#34;&#34;&#34;Issue a informational message, without bells and whistles.

        See `Messages.message()`
        &#34;&#34;&#34;
        self.message(&#34;plain&#34;, msg=msg, logmsg=logmsg)

    def message(self, tp, msg, logmsg):
        &#34;&#34;&#34;Workhorse to issue a message in a variety of ways.

        It can issue log messages and screen messages.

        Parameters
        ----------
        tp: string
            The severity of the message.
            There is a fixed number of types:

            * `debug`
              Messages are prepended with `DEBUG: `.
              Log messages go to stderr.
              Messages will only show up on the web page
              if the app runs in debug mode.

            * `plain`
              Messages are not prepended with anything.
              Log messages go to standard output.

            * `info`
              Messages are prepended with `INFO: `.
              Log messages go to standard output.

            * `warning`
              Messages are prepended with `WARNING: `.
              Log messages go to standard error.

            * `error`
              Messages are prepended with `ERROR: `.
              Log messages go to standard error.
              It also raises an exception, which will lead
              to a 404 response (if flask is running, that is).

        msg: string, optional None
            If not None, it is the contents of a screen message.
            Ths happens by the built-in `flash` method of Flask.
        logmsg: string, optional None
            If not None, it is the contents of a log message.
        &#34;&#34;&#34;
        Settings = self.Settings

        stream = sys.stderr if tp in {&#34;debug&#34;, &#34;error&#34;, &#34;warning&#34;} else sys.stdout
        label = &#34;&#34; if tp == &#34;plain&#34; else f&#34;{tp.upper()}: &#34;

        if Settings is None:
            if msg is not None:
                stream.write(f&#34;{label}{msg}\n&#34;)
            if logmsg is not None:
                stream.write(f&#34;{label}{logmsg}\n&#34;)
            stream.flush()
        else:
            debugMode = Settings.debugMode
            if tp == &#34;debug&#34; and not debugMode:
                return

            if msg is not None:
                cls = &#34;info&#34; if tp == &#34;plain&#34; else tp
                m = H.he(msg)
                flashMsg(f&#34;{label}{m}&#34;, cls)
            if logmsg is not None:
                stream.write(f&#34;{label}{logmsg}\n&#34;)
                stream.flush()

            if tp == &#34;error&#34; and self.onFlask:
                stop()</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="control.messages.Messages.debug"><code class="name flex">
<span>def <span class="ident">debug</span></span>(<span>self, msg=None, logmsg=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Issue a debug message.</p>
<p>See <code><a title="control.messages.Messages.message" href="#control.messages.Messages.message">Messages.message()</a></code></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L73-L78" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def debug(self, msg=None, logmsg=None):
    &#34;&#34;&#34;Issue a debug message.

    See `Messages.message()`
    &#34;&#34;&#34;
    self.message(&#34;debug&#34;, msg=msg, logmsg=logmsg)</code></pre>
</details>
</dd>
<dt id="control.messages.Messages.debugAdd"><code class="name flex">
<span>def <span class="ident">debugAdd</span></span>(<span>self, dest)</span>
</code></dt>
<dd>
<div class="desc"><p>Adds a quick debug method to a destination object.</p>
<p>The result of this method is that instead of saying</p>
<pre><code>self.Messages.debug (logmsg=&quot;blabla&quot;)
</code></pre>
<p>you can say</p>
<pre><code>self.debug (&quot;blabla&quot;)
</code></pre>
<p>It is recommended that in each object where you store a handle
to Messages, you issue the statement</p>
<pre><code>Messages.addDebug(self)
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L45-L71" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def debugAdd(self, dest):
    &#34;&#34;&#34;Adds a quick debug method to a destination object.

    The result of this method is that instead of saying

    ```
    self.Messages.debug (logmsg=&#34;blabla&#34;)
    ```

    you can say

    ```
    self.debug (&#34;blabla&#34;)
    ```

    It is recommended that in each object where you store a handle
    to Messages, you issue the statement

    ```
    Messages.addDebug(self)
    ```
    &#34;&#34;&#34;

    def dbg(m):
        self.debug(logmsg=m)

    setattr(dest, &#34;debug&#34;, dbg)</code></pre>
</details>
</dd>
<dt id="control.messages.Messages.error"><code class="name flex">
<span>def <span class="ident">error</span></span>(<span>self, msg=None, logmsg=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Issue an error message.</p>
<p>See <code><a title="control.messages.Messages.message" href="#control.messages.Messages.message">Messages.message()</a></code></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L80-L85" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def error(self, msg=None, logmsg=None):
    &#34;&#34;&#34;Issue an error message.

    See `Messages.message()`
    &#34;&#34;&#34;
    self.message(&#34;error&#34;, msg=msg, logmsg=logmsg)</code></pre>
</details>
</dd>
<dt id="control.messages.Messages.info"><code class="name flex">
<span>def <span class="ident">info</span></span>(<span>self, msg=None, logmsg=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Issue a informational message.</p>
<p>See <code><a title="control.messages.Messages.message" href="#control.messages.Messages.message">Messages.message()</a></code></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L94-L99" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def info(self, msg=None, logmsg=None):
    &#34;&#34;&#34;Issue a informational message.

    See `Messages.message()`
    &#34;&#34;&#34;
    self.message(&#34;info&#34;, msg=msg, logmsg=logmsg)</code></pre>
</details>
</dd>
<dt id="control.messages.Messages.message"><code class="name flex">
<span>def <span class="ident">message</span></span>(<span>self, tp, msg, logmsg)</span>
</code></dt>
<dd>
<div class="desc"><p>Workhorse to issue a message in a variety of ways.</p>
<p>It can issue log messages and screen messages.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tp</code></strong> :&ensp;<code>string</code></dt>
<dd>
<p>The severity of the message.
There is a fixed number of types:</p>
<ul>
<li>
<p><code>debug</code>
Messages are prepended with <code>DEBUG:</code>.
Log messages go to stderr.
Messages will only show up on the web page
if the app runs in debug mode.</p>
</li>
<li>
<p><code>plain</code>
Messages are not prepended with anything.
Log messages go to standard output.</p>
</li>
<li>
<p><code>info</code>
Messages are prepended with <code>INFO:</code>.
Log messages go to standard output.</p>
</li>
<li>
<p><code>warning</code>
Messages are prepended with <code>WARNING:</code>.
Log messages go to standard error.</p>
</li>
<li>
<p><code>error</code>
Messages are prepended with <code>ERROR:</code>.
Log messages go to standard error.
It also raises an exception, which will lead
to a 404 response (if flask is running, that is).</p>
</li>
</ul>
</dd>
<dt><strong><code>msg</code></strong> :&ensp;<code>string</code>, optional <code>None</code></dt>
<dd>If not None, it is the contents of a screen message.
Ths happens by the built-in <code>flash</code> method of Flask.</dd>
<dt><strong><code>logmsg</code></strong> :&ensp;<code>string</code>, optional <code>None</code></dt>
<dd>If not None, it is the contents of a log message.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L108-L174" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def message(self, tp, msg, logmsg):
    &#34;&#34;&#34;Workhorse to issue a message in a variety of ways.

    It can issue log messages and screen messages.

    Parameters
    ----------
    tp: string
        The severity of the message.
        There is a fixed number of types:

        * `debug`
          Messages are prepended with `DEBUG: `.
          Log messages go to stderr.
          Messages will only show up on the web page
          if the app runs in debug mode.

        * `plain`
          Messages are not prepended with anything.
          Log messages go to standard output.

        * `info`
          Messages are prepended with `INFO: `.
          Log messages go to standard output.

        * `warning`
          Messages are prepended with `WARNING: `.
          Log messages go to standard error.

        * `error`
          Messages are prepended with `ERROR: `.
          Log messages go to standard error.
          It also raises an exception, which will lead
          to a 404 response (if flask is running, that is).

    msg: string, optional None
        If not None, it is the contents of a screen message.
        Ths happens by the built-in `flash` method of Flask.
    logmsg: string, optional None
        If not None, it is the contents of a log message.
    &#34;&#34;&#34;
    Settings = self.Settings

    stream = sys.stderr if tp in {&#34;debug&#34;, &#34;error&#34;, &#34;warning&#34;} else sys.stdout
    label = &#34;&#34; if tp == &#34;plain&#34; else f&#34;{tp.upper()}: &#34;

    if Settings is None:
        if msg is not None:
            stream.write(f&#34;{label}{msg}\n&#34;)
        if logmsg is not None:
            stream.write(f&#34;{label}{logmsg}\n&#34;)
        stream.flush()
    else:
        debugMode = Settings.debugMode
        if tp == &#34;debug&#34; and not debugMode:
            return

        if msg is not None:
            cls = &#34;info&#34; if tp == &#34;plain&#34; else tp
            m = H.he(msg)
            flashMsg(f&#34;{label}{m}&#34;, cls)
        if logmsg is not None:
            stream.write(f&#34;{label}{logmsg}\n&#34;)
            stream.flush()

        if tp == &#34;error&#34; and self.onFlask:
            stop()</code></pre>
</details>
</dd>
<dt id="control.messages.Messages.plain"><code class="name flex">
<span>def <span class="ident">plain</span></span>(<span>self, msg=None, logmsg=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Issue a informational message, without bells and whistles.</p>
<p>See <code><a title="control.messages.Messages.message" href="#control.messages.Messages.message">Messages.message()</a></code></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L101-L106" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def plain(self, msg=None, logmsg=None):
    &#34;&#34;&#34;Issue a informational message, without bells and whistles.

    See `Messages.message()`
    &#34;&#34;&#34;
    self.message(&#34;plain&#34;, msg=msg, logmsg=logmsg)</code></pre>
</details>
</dd>
<dt id="control.messages.Messages.warning"><code class="name flex">
<span>def <span class="ident">warning</span></span>(<span>self, msg=None, logmsg=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Issue a warning message.</p>
<p>See <code><a title="control.messages.Messages.message" href="#control.messages.Messages.message">Messages.message()</a></code></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/43bd2e150961ad81f2af6575b1c8f269a7e20738/src/pure3d/control/messages.py#L87-L92" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def warning(self, msg=None, logmsg=None):
    &#34;&#34;&#34;Issue a warning message.

    See `Messages.message()`
    &#34;&#34;&#34;
    self.message(&#34;warning&#34;, msg=msg, logmsg=logmsg)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<p><a href="https://github.com/CLARIAH/pure3dx" title="GitHub repo">GitHub</a></p>
<form>
<input id="lunr-search" name="q" placeholder="🔎 Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="control" href="index.html">control</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="control.messages.Messages" href="#control.messages.Messages">Messages</a></code></h4>
<ul class="two-column">
<li><code><a title="control.messages.Messages.debug" href="#control.messages.Messages.debug">debug</a></code></li>
<li><code><a title="control.messages.Messages.debugAdd" href="#control.messages.Messages.debugAdd">debugAdd</a></code></li>
<li><code><a title="control.messages.Messages.error" href="#control.messages.Messages.error">error</a></code></li>
<li><code><a title="control.messages.Messages.info" href="#control.messages.Messages.info">info</a></code></li>
<li><code><a title="control.messages.Messages.message" href="#control.messages.Messages.message">message</a></code></li>
<li><code><a title="control.messages.Messages.plain" href="#control.messages.Messages.plain">plain</a></code></li>
<li><code><a title="control.messages.Messages.warning" href="#control.messages.Messages.warning">warning</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<a href="https://pure.knaw.nl/portal/en/persons/dirk-roorda">Dirk Roorda</a>
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>