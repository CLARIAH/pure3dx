<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>control.flask API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>control.flask</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L1-L235" class="git-link">Browse git</a>
</summary>
<pre><code class="python">import re

from flask import (
    Flask,
    request,
    redirect,
    abort,
    session,
    render_template,
    make_response,
    send_file,
    flash,
)

from control.environment import var


PROTOCOL_RE = re.compile(r&#34;&#34;&#34;^https?:\/\/&#34;&#34;&#34;, re.I)


def appInitializing():
    &#34;&#34;&#34;Whether the flask web app is already running.

    It is False during the initialization code in the app factory
    before the flask app is delivered.
    &#34;&#34;&#34;
    return var(&#34;WERKZEUG_RUN_MAIN&#34;) is None


def appMake(*args, **kwargs):
    &#34;&#34;&#34;Create the Flask app.&#34;&#34;&#34;
    return Flask(*args, **kwargs)


def renderTemplate(template, **kwargs):
    &#34;&#34;&#34;Renders a template.

    Parameters
    ----------
    template: string
        The name of the template, without extension.
    kwargs: dict
        The variables with values to fill in into the template.

    Returns
    -------
    object
        The response with as content the filled template.
    &#34;&#34;&#34;
    return render_template(f&#34;{template}.html&#34;, **kwargs)


def flashMsg(*args, **kwargs):
    &#34;&#34;&#34;Gives user feedback using the Flask flash mechanism.&#34;&#34;&#34;
    flash(*args, **kwargs)


def response(data):
    &#34;&#34;&#34;Wrap data in a response.

    Parameters
    ----------
    data: any
        The data to be transferred in an HTTP response.

    Returns
    -------
    object
        The HTTP response
    &#34;&#34;&#34;
    return make_response(data)


def sendFile(path):
    &#34;&#34;&#34;Send a file as a response.

    It is assumed that `path` exists as a readable file
    on the file system.
    The function will add headers based on the file
    extension.

    Parameters
    ----------
    path: string
        The file to be transferred in an HTTP response.

    Returns
    -------
    object
        The HTTP response
    &#34;&#34;&#34;
    return send_file(path)


def redirectStatus(url, good):
    &#34;&#34;&#34;Redirect.

    Parameters
    ----------
    url: string
        The url to redirect to
    good:
        Whether the redirection corresponds to a normal scenario or is the result of
        an error

    Returns
    -------
    response
        A redirect response with either code 302 (good) or 303 (bad)
    &#34;&#34;&#34;

    code = 302 if good else 303
    if url == &#34;&#34;:
        url = &#34;/&#34;
    return redirect(url, code=code)


def appStop():
    &#34;&#34;&#34;Stop the request with a 404.&#34;&#34;&#34;
    abort(404)


def sessionPop(name):
    &#34;&#34;&#34;Pops a variable from the session.

    Parameters
    ----------
    name: string
        The name of the variable.

    Returns
    -------
    void
    &#34;&#34;&#34;
    try:
        session.pop(name, None)
    except Exception:
        pass


def sessionGet(name):
    &#34;&#34;&#34;Gets a variable from the session.

    Parameters
    ----------
    name: string
        The name of the variable.

    Returns
    -------
    string | void
        The value of the variable, if it exists,
        else None.
    &#34;&#34;&#34;
    return session.get(name, None)


def sessionSet(name, value):
    &#34;&#34;&#34;Sets a session variable to a value.

    Parameters
    ----------
    name: string
        The name of the variable.
    value: string
        The value that will be assigned to the variable

    Returns
    -------
    void
    &#34;&#34;&#34;
    session[name] = value


def requestMethod():
    &#34;&#34;&#34;Get the request method.&#34;&#34;&#34;
    return request.method


def requestArg(name):
    &#34;&#34;&#34;Get the value of a request arg.

    Parameters
    ----------
    name: string
        The name of the arg.

    Returns
    -------
    string | void
        The value of the arg, if it is defined,
        else the None.
    &#34;&#34;&#34;
    return request.args.get(name, None)


def requestData():
    &#34;&#34;&#34;Get the request data.

    Returns
    -------
    bytes

    Useful for uploaded files.
    &#34;&#34;&#34;
    return request.get_data(cache=False)


def getReferrer():
    &#34;&#34;&#34;Get the referrer from the request.

    We strip the root url from the referrer.

    If that is not possible, the referrer is an other site,
    in that case we substitute the home page.

    !!! caution &#34;protocol mismatch&#34;
        It has been observed that in some cases the referrer, as taken from the request,
        and the root url as taken from the request, differ in their protocol part:
        `http:` versus `https:`.
        Therefore we first strip the protocol part from both referrer and root url
        before we remove the prefix.

    Returns
    -------
    string
    &#34;&#34;&#34;
    rootUrl = request.root_url
    rootUrl = PROTOCOL_RE.sub(&#34;&#34;, rootUrl)
    referrer = request.referrer
    referrer = PROTOCOL_RE.sub(&#34;&#34;, referrer)

    path = referrer.removeprefix(rootUrl)

    return &#34;/&#34; if path == referrer else path</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="control.flask.appInitializing"><code class="name flex">
<span>def <span class="ident">appInitializing</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Whether the flask web app is already running.</p>
<p>It is False during the initialization code in the app factory
before the flask app is delivered.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L21-L27" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def appInitializing():
    &#34;&#34;&#34;Whether the flask web app is already running.

    It is False during the initialization code in the app factory
    before the flask app is delivered.
    &#34;&#34;&#34;
    return var(&#34;WERKZEUG_RUN_MAIN&#34;) is None</code></pre>
</details>
</dd>
<dt id="control.flask.appMake"><code class="name flex">
<span>def <span class="ident">appMake</span></span>(<span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Create the Flask app.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L30-L32" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def appMake(*args, **kwargs):
    &#34;&#34;&#34;Create the Flask app.&#34;&#34;&#34;
    return Flask(*args, **kwargs)</code></pre>
</details>
</dd>
<dt id="control.flask.appStop"><code class="name flex">
<span>def <span class="ident">appStop</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Stop the request with a 404.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L118-L120" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def appStop():
    &#34;&#34;&#34;Stop the request with a 404.&#34;&#34;&#34;
    abort(404)</code></pre>
</details>
</dd>
<dt id="control.flask.flashMsg"><code class="name flex">
<span>def <span class="ident">flashMsg</span></span>(<span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Gives user feedback using the Flask flash mechanism.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L53-L55" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def flashMsg(*args, **kwargs):
    &#34;&#34;&#34;Gives user feedback using the Flask flash mechanism.&#34;&#34;&#34;
    flash(*args, **kwargs)</code></pre>
</details>
</dd>
<dt id="control.flask.getReferrer"><code class="name flex">
<span>def <span class="ident">getReferrer</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the referrer from the request.</p>
<p>We strip the root url from the referrer.</p>
<p>If that is not possible, the referrer is an other site,
in that case we substitute the home page.</p>
<div class="admonition caution">
<p class="admonition-title">protocol mismatch</p>
<p>It has been observed that in some cases the referrer, as taken from the request,
and the root url as taken from the request, differ in their protocol part:
<code>http:</code> versus <code>https:</code>.
Therefore we first strip the protocol part from both referrer and root url
before we remove the prefix.</p>
</div>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L209-L235" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def getReferrer():
    &#34;&#34;&#34;Get the referrer from the request.

    We strip the root url from the referrer.

    If that is not possible, the referrer is an other site,
    in that case we substitute the home page.

    !!! caution &#34;protocol mismatch&#34;
        It has been observed that in some cases the referrer, as taken from the request,
        and the root url as taken from the request, differ in their protocol part:
        `http:` versus `https:`.
        Therefore we first strip the protocol part from both referrer and root url
        before we remove the prefix.

    Returns
    -------
    string
    &#34;&#34;&#34;
    rootUrl = request.root_url
    rootUrl = PROTOCOL_RE.sub(&#34;&#34;, rootUrl)
    referrer = request.referrer
    referrer = PROTOCOL_RE.sub(&#34;&#34;, referrer)

    path = referrer.removeprefix(rootUrl)

    return &#34;/&#34; if path == referrer else path</code></pre>
</details>
</dd>
<dt id="control.flask.redirectStatus"><code class="name flex">
<span>def <span class="ident">redirectStatus</span></span>(<span>url, good)</span>
</code></dt>
<dd>
<div class="desc"><p>Redirect.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>url</code></strong> :&ensp;<code>string</code></dt>
<dd>The url to redirect to</dd>
</dl>
<p>good:
Whether the redirection corresponds to a normal scenario or is the result of
an error</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a title="control.flask.response" href="#control.flask.response">response()</a></code></dt>
<dd>A redirect response with either code 302 (good) or 303 (bad)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L95-L115" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def redirectStatus(url, good):
    &#34;&#34;&#34;Redirect.

    Parameters
    ----------
    url: string
        The url to redirect to
    good:
        Whether the redirection corresponds to a normal scenario or is the result of
        an error

    Returns
    -------
    response
        A redirect response with either code 302 (good) or 303 (bad)
    &#34;&#34;&#34;

    code = 302 if good else 303
    if url == &#34;&#34;:
        url = &#34;/&#34;
    return redirect(url, code=code)</code></pre>
</details>
</dd>
<dt id="control.flask.renderTemplate"><code class="name flex">
<span>def <span class="ident">renderTemplate</span></span>(<span>template, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Renders a template.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>template</code></strong> :&ensp;<code>string</code></dt>
<dd>The name of the template, without extension.</dd>
<dt><strong><code>kwargs</code></strong> :&ensp;<code>dict</code></dt>
<dd>The variables with values to fill in into the template.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>object</code></dt>
<dd>The response with as content the filled template.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L35-L50" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def renderTemplate(template, **kwargs):
    &#34;&#34;&#34;Renders a template.

    Parameters
    ----------
    template: string
        The name of the template, without extension.
    kwargs: dict
        The variables with values to fill in into the template.

    Returns
    -------
    object
        The response with as content the filled template.
    &#34;&#34;&#34;
    return render_template(f&#34;{template}.html&#34;, **kwargs)</code></pre>
</details>
</dd>
<dt id="control.flask.requestArg"><code class="name flex">
<span>def <span class="ident">requestArg</span></span>(<span>name)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the value of a request arg.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>string</code></dt>
<dd>The name of the arg.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string | void</code></dt>
<dd>The value of the arg, if it is defined,
else the None.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L180-L194" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def requestArg(name):
    &#34;&#34;&#34;Get the value of a request arg.

    Parameters
    ----------
    name: string
        The name of the arg.

    Returns
    -------
    string | void
        The value of the arg, if it is defined,
        else the None.
    &#34;&#34;&#34;
    return request.args.get(name, None)</code></pre>
</details>
</dd>
<dt id="control.flask.requestData"><code class="name flex">
<span>def <span class="ident">requestData</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the request data.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>bytes</code></dt>
<dd>&nbsp;</dd>
</dl>
<p>Useful for uploaded files.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L197-L206" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def requestData():
    &#34;&#34;&#34;Get the request data.

    Returns
    -------
    bytes

    Useful for uploaded files.
    &#34;&#34;&#34;
    return request.get_data(cache=False)</code></pre>
</details>
</dd>
<dt id="control.flask.requestMethod"><code class="name flex">
<span>def <span class="ident">requestMethod</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the request method.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L175-L177" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def requestMethod():
    &#34;&#34;&#34;Get the request method.&#34;&#34;&#34;
    return request.method</code></pre>
</details>
</dd>
<dt id="control.flask.response"><code class="name flex">
<span>def <span class="ident">response</span></span>(<span>data)</span>
</code></dt>
<dd>
<div class="desc"><p>Wrap data in a response.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>data</code></strong> :&ensp;<code>any</code></dt>
<dd>The data to be transferred in an HTTP response.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>object</code></dt>
<dd>The HTTP response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L58-L71" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def response(data):
    &#34;&#34;&#34;Wrap data in a response.

    Parameters
    ----------
    data: any
        The data to be transferred in an HTTP response.

    Returns
    -------
    object
        The HTTP response
    &#34;&#34;&#34;
    return make_response(data)</code></pre>
</details>
</dd>
<dt id="control.flask.sendFile"><code class="name flex">
<span>def <span class="ident">sendFile</span></span>(<span>path)</span>
</code></dt>
<dd>
<div class="desc"><p>Send a file as a response.</p>
<p>It is assumed that <code>path</code> exists as a readable file
on the file system.
The function will add headers based on the file
extension.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>path</code></strong> :&ensp;<code>string</code></dt>
<dd>The file to be transferred in an HTTP response.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>object</code></dt>
<dd>The HTTP response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L74-L92" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def sendFile(path):
    &#34;&#34;&#34;Send a file as a response.

    It is assumed that `path` exists as a readable file
    on the file system.
    The function will add headers based on the file
    extension.

    Parameters
    ----------
    path: string
        The file to be transferred in an HTTP response.

    Returns
    -------
    object
        The HTTP response
    &#34;&#34;&#34;
    return send_file(path)</code></pre>
</details>
</dd>
<dt id="control.flask.sessionGet"><code class="name flex">
<span>def <span class="ident">sessionGet</span></span>(<span>name)</span>
</code></dt>
<dd>
<div class="desc"><p>Gets a variable from the session.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>string</code></dt>
<dd>The name of the variable.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>string | void</code></dt>
<dd>The value of the variable, if it exists,
else None.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L141-L155" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def sessionGet(name):
    &#34;&#34;&#34;Gets a variable from the session.

    Parameters
    ----------
    name: string
        The name of the variable.

    Returns
    -------
    string | void
        The value of the variable, if it exists,
        else None.
    &#34;&#34;&#34;
    return session.get(name, None)</code></pre>
</details>
</dd>
<dt id="control.flask.sessionPop"><code class="name flex">
<span>def <span class="ident">sessionPop</span></span>(<span>name)</span>
</code></dt>
<dd>
<div class="desc"><p>Pops a variable from the session.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>string</code></dt>
<dd>The name of the variable.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>void</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L123-L138" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def sessionPop(name):
    &#34;&#34;&#34;Pops a variable from the session.

    Parameters
    ----------
    name: string
        The name of the variable.

    Returns
    -------
    void
    &#34;&#34;&#34;
    try:
        session.pop(name, None)
    except Exception:
        pass</code></pre>
</details>
</dd>
<dt id="control.flask.sessionSet"><code class="name flex">
<span>def <span class="ident">sessionSet</span></span>(<span>name, value)</span>
</code></dt>
<dd>
<div class="desc"><p>Sets a session variable to a value.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>string</code></dt>
<dd>The name of the variable.</dd>
<dt><strong><code>value</code></strong> :&ensp;<code>string</code></dt>
<dd>The value that will be assigned to the variable</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>void</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/CLARIAH/pure3dx/blob/52069a13b852c57fe8864ae25da395f3e3af7920/src/pure3d/control/flask.py#L158-L172" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def sessionSet(name, value):
    &#34;&#34;&#34;Sets a session variable to a value.

    Parameters
    ----------
    name: string
        The name of the variable.
    value: string
        The value that will be assigned to the variable

    Returns
    -------
    void
    &#34;&#34;&#34;
    session[name] = value</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<p><a href="https://github.com/CLARIAH/pure3dx" title="GitHub repo">GitHub</a></p>
<p><a href="https://github.com/CLARIAH/pure3dx/blob/main/stats.md" title="GitHub repo">code stats</a></p>
<form>
<input id="lunr-search" name="q" placeholder="ðŸ”Ž Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="control" href="index.html">control</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="control.flask.appInitializing" href="#control.flask.appInitializing">appInitializing</a></code></li>
<li><code><a title="control.flask.appMake" href="#control.flask.appMake">appMake</a></code></li>
<li><code><a title="control.flask.appStop" href="#control.flask.appStop">appStop</a></code></li>
<li><code><a title="control.flask.flashMsg" href="#control.flask.flashMsg">flashMsg</a></code></li>
<li><code><a title="control.flask.getReferrer" href="#control.flask.getReferrer">getReferrer</a></code></li>
<li><code><a title="control.flask.redirectStatus" href="#control.flask.redirectStatus">redirectStatus</a></code></li>
<li><code><a title="control.flask.renderTemplate" href="#control.flask.renderTemplate">renderTemplate</a></code></li>
<li><code><a title="control.flask.requestArg" href="#control.flask.requestArg">requestArg</a></code></li>
<li><code><a title="control.flask.requestData" href="#control.flask.requestData">requestData</a></code></li>
<li><code><a title="control.flask.requestMethod" href="#control.flask.requestMethod">requestMethod</a></code></li>
<li><code><a title="control.flask.response" href="#control.flask.response">response</a></code></li>
<li><code><a title="control.flask.sendFile" href="#control.flask.sendFile">sendFile</a></code></li>
<li><code><a title="control.flask.sessionGet" href="#control.flask.sessionGet">sessionGet</a></code></li>
<li><code><a title="control.flask.sessionPop" href="#control.flask.sessionPop">sessionPop</a></code></li>
<li><code><a title="control.flask.sessionSet" href="#control.flask.sessionSet">sessionSet</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<a href="https://pure.knaw.nl/portal/en/persons/dirk-roorda">Dirk Roorda</a>
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>